{"ast":null,"code":"import React from'react';import{useNavigate,useParams}from'react-router-dom';import{useState}from'react';import{useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Chinhsua=()=>{const{id}=useParams();const[Nhansu,setNhansu]=useState({Hoten:'',Cccd:'',Mnv:'',Sdt:'',luong:'',Chucvu:''});const navigate=useNavigate();const handleSubmit=event=>{event.preventDefault();const formdata=new FormData();formdata.append(\"Hoten\",Nhansu.Hoten);formdata.append(\"Cccd\",Nhansu.Cccd);formdata.append(\"Mnv\",Nhansu.Mnv);formdata.append(\"Sdt\",Nhansu.Sdt);formdata.append(\"luong\",Nhansu.luong);axios.post('http://localhost:3001/ThemNhanvien',formdata).then(res=>{navigate('/quanlythongtinnhanvien');}).catch(err=>console.log(err));};const[Chucvu,setChucvu]=useState([]);useEffect(()=>{axios.get('http://localhost:3000/quanlycongtacnhanvien/quanlyvitri').then(result=>{if(result.data.Status){setChucvu(result.date.Result);}else{alert(result.data.Error);}}).catch(err=>console.log(err));axios.get('http://localhost:3000/quanlythongtinnhanvien'+id).then(result=>{setNhansu({...Nhansu,Hoten:result.data.Result[0].Hoten,Cccd:result.data.Result[0].Cccd,Mnv:result.data.Result[0].Mnv,luong:result.data.Result[0].luong,Chucvu:result.data.Result[0].Chucvu});}).catch(err=>console.log(err));},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center mt-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 rounded w-50 border\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:\"Chinh sua Nhanvien\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"row g-1\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputTen\",className:\"form-label\",htmlFor:\"Hoten\",children:\"Ho Ten:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"inputTen\",placeholder:\"Nhap Hoten\",className:\"form-control rounded-0\",value:Nhansu.Hoten,onChange:e=>setNhansu({...Nhansu,Hoten:e.target.value})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputCCCD\",className:\"form-label\",htmlFor:\"CCCD\",children:\"CCCD:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"inputCCCD\",placeholder:\"Nhap CCCD\",className:\"form-control rounded-0\",value:Nhansu.Cccd,onChange:e=>setNhansu({...Nhansu,Cccd:e.target.value})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputID\",className:\"form-label\",htmlFor:\"Mnv\",children:\"Ma nhan vien:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"inputID\",placeholder:\"Nhap Mnv\",className:\"form-control rounded-0\",value:Nhansu.Mnv,onChange:e=>setNhansu({...Nhansu,Mnv:e.target.value})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputSdt\",className:\"form-label\",htmlFor:\"SDT\",children:\"SDT:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"inputSdt\",placeholder:\"Nhap SDT\",className:\"form-control rounded-0\",value:Nhansu.Sdt,onChange:e=>setNhansu({...Nhansu,Sdt:e.target.value})})]}),/*#__PURE__*/_jsx(\"label\",{for:\"inputLuong\",className:\"form-label\",children:\"Luong:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"inputLuong\",placeholder:\"Nhap Luong\",className:\"form-control rounded-0\",autoComplete:\"off\",value:Nhansu.luong,onChange:e=>setNhansu({...Nhansu,luong:e.target.value})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputChucvu\",className:\"form-label\",htmlFor:\"Chucvu\",children:\"Chuc vu:\"}),/*#__PURE__*/_jsx(\"select\",{name:\"Chucvu\",id:\"Chucvu\",className:\"form-select\",onChange:e=>setNhansu({...Nhansu,Chucvu:e.target.value}),children:Chucvu.map(c=>{return/*#__PURE__*/_jsx(\"option\",{value:c.id,children:c.Hoten});})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success w100 rounded-0 mb-2\",children:\"Them Nhan vien\"})]})]})});};export default Chinhsua;","map":{"version":3,"names":["React","useNavigate","useParams","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Chinhsua","id","Nhansu","setNhansu","Hoten","Cccd","Mnv","Sdt","luong","Chucvu","navigate","handleSubmit","event","preventDefault","formdata","FormData","append","post","then","res","catch","err","console","log","setChucvu","get","result","data","Status","date","Result","alert","Error","className","children","onSubmit","for","htmlFor","type","placeholder","value","onChange","e","target","autoComplete","name","map","c"],"sources":["E:/New folder (5)/doan1/front-end/src/webfile/views/qlhoso/qlthongtinnhanvien/Chinhsua.jsx"],"sourcesContent":["import React from 'react'\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\nimport { useState } from 'react'\r\nimport { useEffect } from 'react'\r\nimport axios from 'axios'\r\nconst Chinhsua = () => {\r\n    const {id} = useParams()\r\n    const [Nhansu, setNhansu] = useState({\r\n        Hoten:'',\r\n        Cccd:'',\r\n        Mnv:'',\r\n        Sdt:'',\r\n        luong:'',\r\n        Chucvu:''\r\n\r\n    })\r\n    const navigate = useNavigate()\r\n    const handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconst formdata = new FormData();\r\n\t\tformdata.append(\"Hoten\", Nhansu.Hoten);\r\n\t\tformdata.append(\"Cccd\", Nhansu.Cccd);\r\n\t\tformdata.append(\"Mnv\", Nhansu.Mnv);\r\n\t\tformdata.append(\"Sdt\", Nhansu.Sdt);\r\n\t\tformdata.append(\"luong\", Nhansu.luong);\r\n\t\taxios.post('http://localhost:3001/ThemNhanvien', formdata)\r\n\t\t.then(res => {\r\n\t\t\tnavigate('/quanlythongtinnhanvien')\r\n\t\t})\r\n\t\t.catch(err => console.log(err));\r\n\t}\r\n    const [Chucvu, setChucvu] = useState([])\r\n\r\n    useEffect(() =>{\r\n        axios.get('http://localhost:3000/quanlycongtacnhanvien/quanlyvitri')\r\n        .then(result => {\r\n            if(result.data.Status) {\r\n                setChucvu(result.date.Result);\r\n            } else {\r\n                alert(result.data.Error)\r\n            }\r\n        })\r\n        .catch(err => console.log(err))\r\n        \r\n        axios.get('http://localhost:3000/quanlythongtinnhanvien'+id)\r\n        .then(result => {\r\n            setNhansu({\r\n                ...Nhansu,\r\n                Hoten: result.data.Result[0].Hoten,\r\n                Cccd: result.data.Result[0].Cccd,\r\n                Mnv: result.data.Result[0].Mnv,\r\n                luong: result.data.Result[0].luong,\r\n                Chucvu: result.data.Result[0].Chucvu,\r\n            })\r\n        }).catch(err => console.log(err))\r\n    }, [])\r\n  return (\r\n    <div className='d-flex justify-content-center align-items-center mt-3'>\r\n        <div className='p-3 rounded w-50 border'>\r\n            <h3 className='text-center'>Chinh sua Nhanvien</h3>\r\n            <form className='row g-1' onSubmit={handleSubmit}>\r\n                <div className='col-12'>\r\n                    <label for=\"inputTen\" className=\"form-label\" htmlFor=\"Hoten\">Ho Ten:</label>\r\n                <input type=\"text\"               \r\n                id='inputTen' \r\n                placeholder='Nhap Hoten'\r\n                className='form-control rounded-0'\r\n                value={Nhansu.Hoten}\r\n                onChange ={(e) => setNhansu({...Nhansu, Hoten: e.target.value})}\r\n                />\r\n                </div>\r\n                <div className='col-12'>\r\n                    <label for=\"inputCCCD\" className=\"form-label\" htmlFor=\"CCCD\">CCCD:</label>\r\n                <input type=\"text\"               \r\n                id='inputCCCD' \r\n                placeholder='Nhap CCCD'\r\n                className='form-control rounded-0'\r\n                value={Nhansu.Cccd}\r\n                onChange ={(e) => setNhansu({...Nhansu, Cccd: e.target.value})}\r\n                />\r\n                </div>\r\n                <div className='col-12'>\r\n                    <label for=\"inputID\" className=\"form-label\" htmlFor=\"Mnv\">Ma nhan vien:</label>\r\n                <input type=\"text\"               \r\n                id='inputID' \r\n                placeholder='Nhap Mnv'\r\n                className='form-control rounded-0'\r\n                value={Nhansu.Mnv}\r\n                onChange ={(e) => setNhansu({...Nhansu, Mnv: e.target.value})}\r\n                />\r\n                </div>\r\n                <div className='col-12'>\r\n                    <label for=\"inputSdt\" className=\"form-label\" htmlFor=\"SDT\">SDT:</label>\r\n                <input type=\"text\"               \r\n                id='inputSdt' \r\n                placeholder='Nhap SDT'\r\n                className='form-control rounded-0'\r\n                value={Nhansu.Sdt}\r\n                onChange ={(e) => setNhansu({...Nhansu, Sdt: e.target.value})}\r\n                />\r\n                </div>\r\n                \r\n                <label for=\"inputLuong\" className=\"form-label\">Luong:</label>\r\n                <input type=\"text\"               \r\n                id='inputLuong' \r\n                placeholder='Nhap Luong'\r\n                className='form-control rounded-0'\r\n                autoComplete='off'\r\n                value={Nhansu.luong}\r\n                onChange ={(e) => setNhansu({...Nhansu, luong: e.target.value})}\r\n                /> \r\n                <div className='col-12'>\r\n                    <label for=\"inputChucvu\" className=\"form-label\" htmlFor=\"Chucvu\">Chuc vu:</label>\r\n                    <select name=\"Chucvu\" id=\"Chucvu\" className='form-select'\r\n                    onChange ={(e) => setNhansu({...Nhansu, Chucvu: e.target.value})}>\r\n                        {Chucvu.map((c) => {\r\n                            return <option value={c.id}>{c.Hoten}</option>\r\n                        })}\r\n                    </select>\r\n                </div>\r\n                <button className='btn btn-success w100 rounded-0 mb-2'>Them Nhan vien</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Chinhsua"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}